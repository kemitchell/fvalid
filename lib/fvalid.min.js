!function(){"use strict";var r="fvalid";!function(t,n){"function"==typeof define&&define.amd?define(r,[],n()):"object"==typeof exports?module.exports=n():t[r]=n()}(this,function(){var t={name:r,version:"0.0.0-prerelease-2"},n=function(r,t){return function(n){var e={path:r,ok:[],expected:function(t){return[{path:r,expected:t,found:n}]}},o=t.call(e,n);if(!Array.isArray(o))throw new Error("validator function failed to return this.ok or this.expected()");return o}},e=function(t,n){if("function"!=typeof n)throw new Error(r+"."+t+" requires a validator function argument");return n},o=function(t,n){var e=Array.prototype.slice.call(n,0).reduce(function(r,t){return r.concat(t)},[]);if(e.length<1)throw new Error(r+"."+t+" requires an array or argument list of validator functions");return e};t.validate=function(r,t){return t=e("validate",t),n([],t)(r)},t.valid=function(){return 0===t.validate.apply(this,arguments).length},t.ownProperty=function(r,t){return t=e("ownProperty",t),function(e){if("object"!=typeof e)return this.expected("object");if(e.hasOwnProperty(r)){var o=this.path.concat(r);return n(o,t)(e[r])}return this.expected("own property "+JSON.stringify(r))}},t.onlyProperties=function(){var t=Array.prototype.slice.call(arguments,0).reduce(function(r,t){return r.concat(t)},[]);if(0===t.length)throw new Error(r+".onlyProperties requires at least one name argument");return function(r){var e=this.path,o=Object.getOwnPropertyNames(r);return o.reduce(function(o,i){var a=t.indexOf(i)>-1;if(a)return o;var u=e.concat(i);return o.concat(n(u,function(){return this.expected('no property "'+i+'"')})(r[i]))},[])}},t.eachItem=function(r){return r=e("eachItem",r),function(t){var e=this.path;return Array.isArray(t)?t.reduce(function(t,o,i){return t.concat(n(e.concat(i),r)(o))},[]):this.expected("array")}},t.someItem=function(r){return r=e("someItem",r),function(t){var e=this.path;if(Array.isArray(t)&&0!==t.length){var o=null,i=t.some(function(t,i){var a=n(e.concat(i),r)(t);return 0===a.length?!0:(o=a,!1)});return i?this.ok:this.expected("some "+o[0].expected)}return this.expected("non-empty array")}},t.and=function(){var r=o("and",arguments);return function(t){var e=this.path;return r.map(function(r){return n(e,r)}).reduce(function(r,n){return r.concat(n(t))},[])}};var i=function(r){return function(t){return t[r]}},a=function(){var r=",";return function(t,n){t=" "+t+" ";var e=n.length;if(0===e)throw new Error("cannot create a list of no elements");if(1===e)return n;if(2===e)return n[0]+t+n[1];var o=n.slice(0,n.length-2).join(r);return o+r+t+n[n.length]}}();return t.or=function(){var r=o("or",arguments);return function(t){var e=this.path,o=[],u=r.some(function(r){var i=n(e,r)(t);return 0===i.length?!0:(o=o.concat(i),!1)});if(u)return this.ok;var c=o.map(i("expected"));return this.expected(a("or",c))}},t})}();